(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(4),s=a.n(n),r=(a(9),a(2));var i=function(){return{key:"78200f069a336da62465d4f75f7847aa",base:"https://api.openweathermap.org/data/2.5/"}},o=a(0),l=function(e){var t=e.days,a=e.months,c=e.weather,n=e.weatherForSomeDays,s=e.fetchDate,r=function(e){localStorage.setItem("city",e.target.value),s(e.target.value)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"location",children:c.city.name}),Object(o.jsx)("div",{className:"main-location",children:n.map((function(e,n){var s,r,i,l;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"location-box",children:Object(o.jsx)("div",{className:"date",children:"\n                        ".concat(t[e.getDay()],"\n                        ").concat(e.getDate(),"\n                        ").concat(a[e.getMonth()],"\n                        ").concat(e.getFullYear())})}),Object(o.jsxs)("div",{className:"weather-box",children:[Object(o.jsxs)("div",{className:"temperature",children:[Math.round(null===c||void 0===c||null===(s=c.list[n])||void 0===s||null===(r=s.main)||void 0===r?void 0:r.temp),"\xb0c"]}),Object(o.jsx)("div",{className:"weather",children:null===c||void 0===c||null===(i=c.list[n])||void 0===i||null===(l=i.weather[0])||void 0===l?void 0:l.main})]})]},n)}))}),Object(o.jsx)("div",{className:"btn-box",children:["Minsk","Moscow","Bratislava"].map((function(e,t){return Object(o.jsx)("button",{value:e,className:"btn",onClick:r,children:e},t)}))})]})},d=function(e){var t=e.days,a=e.months,c=e.weather,n=e.weatherForSomeDays;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"location",children:c.city.name}),Object(o.jsx)("div",{className:"main-location",children:n.map((function(e,n){return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"location-box",children:Object(o.jsx)("div",{className:"date",children:"\n                        ".concat(t[e.getDay()],"\n                        ").concat(e.getDate(),"\n                        ").concat(a[e.getMonth()],"\n                        ").concat(e.getFullYear())})}),Object(o.jsxs)("div",{className:"weather-box",children:[Object(o.jsxs)("div",{className:"temperature",children:[Math.round(c.list[n].main.temp),"\xb0c"]}),Object(o.jsx)("div",{className:"weather",children:c.list[n].weather[0].main})]})]},n)}))})]})},u=i(),j=["January","February","March","April","May","June","July","August","September","October","November","December"],b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var h=function(){var e=Object(c.useState)("Minsk"),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(4),i=Object(r.a)(s,2),h=i[0],m=i[1],v=Object(c.useState)({}),O=Object(r.a)(v,2),x=O[0],y=O[1],f=Object(c.useState)([]),p=Object(r.a)(f,2),g=p[0],w=p[1],N=Object(c.useState)(!1),S=Object(r.a)(N,2),D=S[0],k=S[1],F=Object(c.useRef)(null),M=function(e){fetch("".concat(u.base,"forecast?q=").concat(e,"&units=metric&cnt=").concat(h,"&APPID=").concat(u.key)).then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){return console.log("Error")}))};Object(c.useEffect)((function(){var e=localStorage.getItem("city");e?a=e:localStorage.setItem("city",a),M(a),I()}),[h]);var I=function(){for(var e=[],t=new Date,a=0;a<h;a++)e.push(new Date(t.getFullYear(),t.getMonth(),t.getDate()+a));w(e)};return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:0!=Object.keys(x)&&x.list[0].main.temp>16?"app warm":"app",children:Object(o.jsxs)("main",{children:[Object(o.jsxs)("div",{className:"search-box",children:[Object(o.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search...",onChange:function(e){return n(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(M(a),F.current.value&&(localStorage.setItem("city",F.current.value),F.current.value=""))},ref:F}),Object(o.jsx)("button",{className:"btn btn-b",onClick:function(){k(!D),m(D?10:4)},children:D?"Forecast for 4 days ":"Forecast for 10 days"})]}),0!=Object.keys(x)&&Object(o.jsxs)("div",{children:[!D&&Object(o.jsx)(l,{days:b,months:j,weather:x,weatherForSomeDays:g,fetchDate:M}),D&&Object(o.jsx)(d,{days:b,months:j,weather:x,weatherForSomeDays:g})]})]})})})};a(11);var m=function(){return Object(o.jsx)(h,{})};s.a.render(Object(o.jsx)(m,{}),document.getElementById("root"))},9:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.37f47bd0.chunk.js.map